{"ast":null,"code":"var _jsxFileName = \"/Users/olek/Desktop/Coding/todo-list-with-contextAndReducers/src/contexts/todo-app.context.tsx\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useReducer } from \"react\";\nimport { INPUT_ACTION_TYPES, INITIAL_STATE, todoAppReducer } from \"../reducers/todo-app.reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TodoAppContext = /*#__PURE__*/createContext({\n  tasks: [],\n  filter: 'all',\n  filteredTasks: [],\n  setTasks: () => null,\n  changeStatus: () => null,\n  setFilter: () => null,\n  changeFilter: () => null\n});\n\n//CREATE TYPES FOR STATE AND ACTION!!!!\n\nconst TodoAppProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [{\n    filter,\n    tasks\n  }, dispatch] = useReducer(todoAppReducer, INITIAL_STATE);\n  const setTasks = taska => {\n    dispatch({\n      type: INPUT_ACTION_TYPES.SET_TODOAPP_TASKS,\n      payload: taska\n    });\n  };\n  const setFilter = values => {\n    dispatch({\n      type: INPUT_ACTION_TYPES.SET_TODOAPP_FILTER,\n      payload: values\n    });\n  };\n  useEffect(() => {\n    if (tasks.length !== 0) {\n      localStorage.setItem('tasks', JSON.stringify(tasks));\n    } else {\n      localStorage.setItem('tasks', JSON.stringify([]));\n    }\n    setTasks(tasks);\n  }, [tasks]);\n  const changeStatus = (taskId, isDone) => {\n    const task = tasks.find(t => t.id === taskId);\n    if (task) {\n      task.isDone = !task.isDone;\n    }\n    setTasks([...tasks]);\n  };\n  let filteredTasks = tasks;\n  if (filter === 'active') {\n    filteredTasks = tasks.filter(t => t.isDone === false);\n  } else if (filter === 'completed') {\n    filteredTasks = tasks.filter(t => t.isDone === true);\n  }\n  function changeFilter(value) {\n    setFilter(value);\n  }\n  const contextValue = {\n    tasks,\n    setTasks,\n    changeStatus,\n    filter,\n    setFilter,\n    changeFilter,\n    filteredTasks\n  };\n  return /*#__PURE__*/_jsxDEV(TodoAppContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n_s(TodoAppProvider, \"U8kRuYRT6tm5b+73iHuukpWwdOA=\");\n_c = TodoAppProvider;\nexport default TodoAppProvider;\nvar _c;\n$RefreshReg$(_c, \"TodoAppProvider\");","map":{"version":3,"names":["createContext","useEffect","useReducer","INPUT_ACTION_TYPES","INITIAL_STATE","todoAppReducer","jsxDEV","_jsxDEV","TodoAppContext","tasks","filter","filteredTasks","setTasks","changeStatus","setFilter","changeFilter","TodoAppProvider","_ref","_s","children","dispatch","taska","type","SET_TODOAPP_TASKS","payload","values","SET_TODOAPP_FILTER","length","localStorage","setItem","JSON","stringify","taskId","isDone","task","find","t","id","value","contextValue","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/olek/Desktop/Coding/todo-list-with-contextAndReducers/src/contexts/todo-app.context.tsx"],"sourcesContent":["import { createContext, useEffect, useReducer } from \"react\";\nimport { INPUT_ACTION_TYPES, INITIAL_STATE, todoAppReducer } from \"../reducers/todo-app.reducer\";\nimport { TodoAppProviderType, TodoAppContextType } from \"./context-types\";\nimport { TaskType } from \"../global-types\";\n\n\nexport const TodoAppContext = createContext<TodoAppContextType>({\n    tasks: [],\n    filter: 'all',\n    filteredTasks: [],\n    setTasks: () => null,\n    changeStatus: () => null,\n    setFilter: () => null,\n    changeFilter: () => null\n});\n\n\n\n\n//CREATE TYPES FOR STATE AND ACTION!!!!\n\n\n\n\nconst TodoAppProvider: React.FC<TodoAppProviderType> = ({children}) => {\n\n    const [{filter, tasks}, dispatch] = useReducer(todoAppReducer, INITIAL_STATE)\n    \n    const setTasks = (taska: Array<TaskType>) => {\n        dispatch({type: INPUT_ACTION_TYPES.SET_TODOAPP_TASKS, payload: taska})\n    }\n\n    const setFilter = (values: string) => {\n        dispatch({type: INPUT_ACTION_TYPES.SET_TODOAPP_FILTER, payload: values})\n    }\n\n    useEffect(() => {\n\t\tif(tasks.length !== 0) {\n\t\t\tlocalStorage.setItem('tasks', JSON.stringify(tasks));\n\t\t} else {\n\t\t\tlocalStorage.setItem('tasks', JSON.stringify([]));\n\t\t}\n\t\tsetTasks(tasks);\n\t}, [tasks]);\n\n    \n    const changeStatus = (taskId: string, isDone: boolean) => {\n        const task = tasks.find((t: any) => t.id === taskId);\n            if (task) {\n                task.isDone = !task.isDone;\n            }\n        setTasks([...tasks]);\n    };\n\t\n\n    let filteredTasks = tasks;\n        if(filter === 'active') {\n            filteredTasks = tasks.filter((t: any) => t.isDone === false);\n\t\t} else if (filter === 'completed') {\n\t\t    filteredTasks = tasks.filter((t: any) => t.isDone === true);\n\t\t}\n\n\t\tfunction changeFilter(value: string) {\n\t\t\tsetFilter(value);\n\t\t}\n\n    const contextValue = {\n        tasks, \n        setTasks, \n        changeStatus,\n        filter,\n        setFilter,\n        changeFilter,\n        filteredTasks,\n    };\n\n    return (\n        <TodoAppContext.Provider value={contextValue}>{children}</TodoAppContext.Provider>\n    )\n}\n\nexport default TodoAppProvider;"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC5D,SAASC,kBAAkB,EAAEC,aAAa,EAAEC,cAAc,QAAQ,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAKjG,OAAO,MAAMC,cAAc,gBAAGR,aAAa,CAAqB;EAC5DS,KAAK,EAAE,EAAE;EACTC,MAAM,EAAE,KAAK;EACbC,aAAa,EAAE,EAAE;EACjBC,QAAQ,EAAEA,CAAA,KAAM,IAAI;EACpBC,YAAY,EAAEA,CAAA,KAAM,IAAI;EACxBC,SAAS,EAAEA,CAAA,KAAM,IAAI;EACrBC,YAAY,EAAEA,CAAA,KAAM;AACxB,CAAC,CAAC;;AAKF;;AAKA,MAAMC,eAA8C,GAAGC,IAAA,IAAgB;EAAAC,EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC,GAAAF,IAAA;EAE9D,MAAM,CAAC;IAACP,MAAM;IAAED;EAAK,CAAC,EAAEW,QAAQ,CAAC,GAAGlB,UAAU,CAACG,cAAc,EAAED,aAAa,CAAC;EAE7E,MAAMQ,QAAQ,GAAIS,KAAsB,IAAK;IACzCD,QAAQ,CAAC;MAACE,IAAI,EAAEnB,kBAAkB,CAACoB,iBAAiB;MAAEC,OAAO,EAAEH;IAAK,CAAC,CAAC;EAC1E,CAAC;EAED,MAAMP,SAAS,GAAIW,MAAc,IAAK;IAClCL,QAAQ,CAAC;MAACE,IAAI,EAAEnB,kBAAkB,CAACuB,kBAAkB;MAAEF,OAAO,EAAEC;IAAM,CAAC,CAAC;EAC5E,CAAC;EAEDxB,SAAS,CAAC,MAAM;IAClB,IAAGQ,KAAK,CAACkB,MAAM,KAAK,CAAC,EAAE;MACtBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACtB,KAAK,CAAC,CAAC;IACrD,CAAC,MAAM;MACNmB,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAAC,EAAE,CAAC,CAAC;IAClD;IACAnB,QAAQ,CAACH,KAAK,CAAC;EAChB,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAGR,MAAMI,YAAY,GAAGA,CAACmB,MAAc,EAAEC,MAAe,KAAK;IACtD,MAAMC,IAAI,GAAGzB,KAAK,CAAC0B,IAAI,CAAEC,CAAM,IAAKA,CAAC,CAACC,EAAE,KAAKL,MAAM,CAAC;IAChD,IAAIE,IAAI,EAAE;MACNA,IAAI,CAACD,MAAM,GAAG,CAACC,IAAI,CAACD,MAAM;IAC9B;IACJrB,QAAQ,CAAC,CAAC,GAAGH,KAAK,CAAC,CAAC;EACxB,CAAC;EAGD,IAAIE,aAAa,GAAGF,KAAK;EACrB,IAAGC,MAAM,KAAK,QAAQ,EAAE;IACpBC,aAAa,GAAGF,KAAK,CAACC,MAAM,CAAE0B,CAAM,IAAKA,CAAC,CAACH,MAAM,KAAK,KAAK,CAAC;EACtE,CAAC,MAAM,IAAIvB,MAAM,KAAK,WAAW,EAAE;IAC/BC,aAAa,GAAGF,KAAK,CAACC,MAAM,CAAE0B,CAAM,IAAKA,CAAC,CAACH,MAAM,KAAK,IAAI,CAAC;EAC/D;EAEA,SAASlB,YAAYA,CAACuB,KAAa,EAAE;IACpCxB,SAAS,CAACwB,KAAK,CAAC;EACjB;EAEE,MAAMC,YAAY,GAAG;IACjB9B,KAAK;IACLG,QAAQ;IACRC,YAAY;IACZH,MAAM;IACNI,SAAS;IACTC,YAAY;IACZJ;EACJ,CAAC;EAED,oBACIJ,OAAA,CAACC,cAAc,CAACgC,QAAQ;IAACF,KAAK,EAAEC,YAAa;IAAApB,QAAA,EAAEA;EAAQ;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAA2B;AAE1F,CAAC;AAAA1B,EAAA,CAvDKF,eAA8C;AAAA6B,EAAA,GAA9C7B,eAA8C;AAyDpD,eAAeA,eAAe;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}