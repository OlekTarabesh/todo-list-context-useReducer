{"ast":null,"code":"var _jsxFileName = \"/Users/olek/Desktop/Coding/todo-list-with-context/src/contexts/todo-app.context.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from \"react\";\nimport { v1 } from \"uuid\";\n\n// type TodoAppProvider = {\n//     children: any;\n// }\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TodoAppContext = /*#__PURE__*/createContext({\n  tasks: [],\n  setTasks: () => null,\n  addTask: () => null,\n  removeTask: () => null,\n  value: '',\n  setValue: () => null,\n  changeStatus: () => null,\n  filter: 'all',\n  setFilter: () => null,\n  error: null,\n  setError: () => null,\n  changeFilter: () => null,\n  filteredTasks: [],\n  handelInput: () => null,\n  addTaskHandler: () => null,\n  onKeyPressHandler: () => null,\n  inputHandler: () => null,\n  editTodo: () => null\n});\nconst TodoAppProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const getLocalstorage = () => {\n    let taska = window.localStorage.getItem(\"tasks\");\n    console.log(taska);\n    if (taska) {\n      return taska = JSON.parse(localStorage.getItem('tasks') || '[]');\n    } else {\n      return [];\n    }\n  };\n  const [tasks, setTasks] = useState(getLocalstorage());\n  useEffect(() => {\n    if (tasks.length !== 0) {\n      localStorage.setItem('tasks', JSON.stringify(tasks));\n    } else {\n      localStorage.setItem('tasks', JSON.stringify([]));\n    }\n    setTasks(tasks);\n  }, [tasks]);\n  const [value, setValue] = useState(\"\");\n  const [filter, setFilter] = useState(\"all\");\n  const [error, setError] = useState(null);\n  const handelInput = text => {\n    setValue(text);\n  };\n  const inputHandler = e => {\n    handelInput(e.target.value);\n  };\n  const addTask = () => {\n    const newTask = {\n      id: v1(),\n      title: value,\n      isDone: false,\n      isEditing: false\n    };\n    if (newTask.title.trim() === \"\") {\n      return;\n    } else {\n      let newTasks = [newTask, ...tasks];\n      setTasks(newTasks);\n      setValue(\"\");\n    }\n  };\n  const addTaskHandler = () => {\n    if (value) {\n      addTask();\n    } else {\n      setError(true);\n    }\n  };\n  const onKeyPressHandler = e => {\n    setError(null);\n    if (e.key === \"Enter\" && value) {\n      addTask();\n    }\n  };\n  const removeTask = id => {\n    const filteredTask = tasks.filter(t => t.id !== id);\n    if (window.confirm('Are you sure?')) {\n      setTasks(filteredTask);\n    }\n  };\n  const changeStatus = (taskId, isDone) => {\n    const task = tasks.find(t => t.id === taskId);\n    if (task) {\n      task.isDone = !task.isDone;\n    }\n    setTasks([...tasks]);\n  };\n  const editTodo = (id, title) => {\n    const editingTask = tasks.map(task => ({\n      ...task,\n      title: task.id === id ? title : task.title\n    }));\n    setTasks([...editingTask]);\n  };\n  let filteredTasks = tasks;\n  if (filter === 'active') {\n    filteredTasks = tasks.filter(t => t.isDone === false);\n  } else if (filter === 'completed') {\n    filteredTasks = tasks.filter(t => t.isDone === true);\n  }\n  function changeFilter(value) {\n    setFilter(value);\n  }\n  const contextValue = {\n    tasks,\n    setTasks,\n    addTask,\n    removeTask,\n    value,\n    setValue,\n    changeStatus,\n    filter,\n    setFilter,\n    error,\n    setError,\n    changeFilter,\n    filteredTasks,\n    handelInput,\n    addTaskHandler,\n    onKeyPressHandler,\n    inputHandler,\n    editTodo\n  };\n  return /*#__PURE__*/_jsxDEV(TodoAppContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, this);\n};\n_s(TodoAppProvider, \"Xi9NiJFHeKM2V5J+LcTJ+vWLhTw=\");\n_c = TodoAppProvider;\nexport default TodoAppProvider;\nvar _c;\n$RefreshReg$(_c, \"TodoAppProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","v1","jsxDEV","_jsxDEV","TodoAppContext","tasks","setTasks","addTask","removeTask","value","setValue","changeStatus","filter","setFilter","error","setError","changeFilter","filteredTasks","handelInput","addTaskHandler","onKeyPressHandler","inputHandler","editTodo","TodoAppProvider","_ref","_s","children","getLocalstorage","taska","window","localStorage","getItem","console","log","JSON","parse","length","setItem","stringify","text","e","target","newTask","id","title","isDone","isEditing","trim","newTasks","key","filteredTask","t","confirm","taskId","task","find","editingTask","map","contextValue","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/olek/Desktop/Coding/todo-list-with-context/src/contexts/todo-app.context.jsx"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\nimport { v1 } from \"uuid\";\n\n// type TodoAppProvider = {\n//     children: any;\n// }\n\nexport const TodoAppContext = createContext({\n    tasks: [],\n    setTasks: () => null,\n    addTask: () => null,\n    removeTask: () => null,\n    value: '',\n    setValue: () => null,\n    changeStatus: () => null,\n    filter: 'all',\n    setFilter: () => null,\n    error: null,\n    setError: () => null,\n    changeFilter: () => null,\n    filteredTasks: [],\n    handelInput: () => null,\n    addTaskHandler: () => null,\n    onKeyPressHandler: () => null,\n    inputHandler: () => null,\n    editTodo: () => null,\n});\n\nconst TodoAppProvider = ({children}) => {\n    const getLocalstorage = () => {\n\t\tlet taska = window.localStorage.getItem(\"tasks\");\n\n\t\tconsole.log(taska);\n\t\tif(taska) {\n\t\t\treturn (taska = JSON.parse(localStorage.getItem('tasks') || '[]'));\n\t\t} else { \n\t\t\treturn [] \n\t\t}\n\t\t\n\t}\n    const [tasks, setTasks] = useState(getLocalstorage());\n\n    useEffect(() => {\n\t\tif(tasks.length !== 0) {\n\t\t\tlocalStorage.setItem('tasks', JSON.stringify(tasks));\n\t\t} else {\n\t\t\tlocalStorage.setItem('tasks', JSON.stringify([]));\n\t\t}\n\t\tsetTasks(tasks);\n\t}, [tasks]);\n\n\n\tconst [ value, setValue ] = useState(\"\");\n    const [ filter, setFilter ] = useState(\"all\");\n\tconst [ error, setError ] = useState(null);\n\n\n    const handelInput = (text) => {\n\t\tsetValue(text);\n\t};\n\n\tconst inputHandler = (e) => {\n\t\thandelInput(e.target.value);\n\t};\n\n    const addTask = () => {\n\t\tconst newTask = {\n\t\t\tid: v1(),\n\t\t\ttitle: value,\n\t\t\tisDone: false,\n\t\t\tisEditing: false,\n\t\t};\n\n\t\tif (newTask.title.trim() === \"\") {\n\t\t\treturn;\n\t\t} else {\n\t\t\tlet newTasks = [newTask, ...tasks];\n\t\t\tsetTasks(newTasks);\n\t\t\tsetValue(\"\");\n\t\t}\n\t};\n\n    const addTaskHandler = () => {\n        if (value) {\n            addTask();\n        } else {\n            setError(true);\n        }\n    };\n\n\n\tconst onKeyPressHandler = (e) => {\n\t\tsetError(null);\n\t\tif (e.key === \"Enter\" && value) {\n\t\t\taddTask();\n\t\t}\n\t};\n\n\tconst removeTask = (id) => {\n\t\tconst filteredTask = tasks.filter((t) => t.id !== id);\n        if(window.confirm('Are you sure?')) {\n            setTasks(filteredTask);\n        }\n\t};\n\n    const changeStatus = (taskId, isDone) => {\n\t\tconst task = tasks.find((t) => t.id === taskId);\n            if (task) {\n                task.isDone = !task.isDone;\n            }\n\t\tsetTasks([...tasks]);\n\t};\n\n\tconst editTodo = (id, title) => {\n\t\tconst editingTask = tasks.map((task) => ({\n            ...task,\n            title: task.id === id ? title : task.title\n            })\n\t    );\n\t\tsetTasks([...editingTask]);\n    };\n\n    let filteredTasks = tasks;\n        if(filter === 'active') {\n            filteredTasks = tasks.filter(t => t.isDone === false);\n\t\t} else if (filter === 'completed') {\n\t\t    filteredTasks = tasks.filter(t => t.isDone === true);\n\t\t}\n\n\t\tfunction changeFilter(value) {\n\t\t\tsetFilter(value);\n\t\t}\n\n    const contextValue = {\n        tasks, \n        setTasks, \n        addTask, \n        removeTask,\n        value,\n        setValue,\n        changeStatus,\n        filter,\n        setFilter,\n        error,\n        setError,\n        changeFilter,\n        filteredTasks,\n        handelInput,\n        addTaskHandler,\n        onKeyPressHandler,\n        inputHandler,\n        editTodo\n    };\n\n    return (\n        <TodoAppContext.Provider value={contextValue}>{children}</TodoAppContext.Provider>\n    )\n}\n\nexport default TodoAppProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}